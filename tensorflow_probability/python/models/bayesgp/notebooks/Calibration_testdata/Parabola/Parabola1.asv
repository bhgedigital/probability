clear all
clc

% Design parameters -  x = [-1,1]

% Uncertain parameters - theta =  0.5 < theta < 2.5

Ndesign = 1;
Ncalib = 1;

Bounds = [-1,1;0.5,2.5];


% Generate Experimental Data
Npoints = 10;

Datanorm = lhsdesign(Npoints,Ndesign);
Data = zeros(Npoints,Ndesign);

for i = 1:Npoints
    for j = 1:Ndesign
        Data(i,j) = Datanorm(i,j)*(Bounds(j,2) - Bounds(j,1)) + Bounds(j,1);
    end
end

for i = 1:Npoints
     
    x = Data(i,Ndesign);
    Data(i,Ndesign+1) = 1.5*(x^2) + 0.5*x;
end

f=fopen('obs.dat','w+');
fprintf(f,'x\ty\n');
fprintf(f,'%f\t%f\n',[Data(:,1) Data(:,2)]');
fclose(f);


% Generate Simulated Data
Npointssim = 50;
Datanormsim = lhsdesign(Npointssim,Ndesign+Ncalib);
Datasim = zeros(Npointssim,Ndesign+Ncalib);

for i = 1:Npointssim
    for j = 1:Ndesign+Ncalib
        Datasim(i,j) = Datanormsim(i,j)*(Bounds(j,2) - Bounds(j,1)) + Bounds(j,1);
    end
end

for i = 1:Npointssim

    x = Datasim(i,Ndesign);
    theta = Datasim(i,Ndesign+Ncalib);
    Datasim(i,Ndesign+Ncalib+1) = theta*(x^2);
end

f=fopen('sim.dat','w+');
fprintf(f,'x\ttheta\ty\n');
fprintf(f,'%f\t%f\t%f\n',[Datasim(:,1) Datasim(:,2) Datasim(:,3)]');
fclose(f);


for i = 1:Npoints

    x = Data(i,Ndesign);
    theta = 1;
    A(i,1) = theta*(x^2);
end

figure
plot(Data(:,1),Data(:,2),'.')
hold on
plot(



bayesian_call('input_data.txt')

load pout

% --Added by Ankur
'Pout saved'


